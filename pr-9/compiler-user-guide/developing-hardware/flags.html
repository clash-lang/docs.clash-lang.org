<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Flags - Clash Compiler User Guide</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Clash Compiler User Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="clash-compiler-flags"><a class="header" href="#clash-compiler-flags">Clash Compiler Flags</a></h1>
<p><code>--vhdl</code><br />
Use the VHDL backend for code generation.
This currently emits VHDL 1993 source which can be consumed by other tools.</p>
<p><code>--verilog</code><br />
Use the Verilog backend for code generation.
This currently emits Verilog 2001 source which can be consumed by other tools.</p>
<p><code>--systemverilog</code><br />
Use the SystemVerilog backend for code generation.
This currently emits SystemVerilog 2012 source which can be consumed by other tools.</p>
<p><code>-fclash-debug</code><br />
Set the debugging mode for the compiler, exposing additional output.
The available options are</p>
<ul>
<li><code>DebugNone</code> to show no debug messages</li>
<li><code>DebugSilent</code> to test invariants and error if any are violated.
This is implicitly enabled by any debug flag.</li>
<li><code>DebugFinal</code> to show expressions after they have been completely normalized</li>
<li><code>DebugCount</code> to count how often each transformation is applied</li>
<li><code>DebugName</code> to show the names of transformations as they are applied</li>
<li><code>DebugTry</code> to show names of tried and applied transformations</li>
<li><code>DebugApplied</code> to show sub-expressions after they are rewritten</li>
<li><code>DebugAll</code> to show all sub-expressions when a rewrite is attempted</li>
</ul>
<p><strong>Default:</strong> <code>DebugNone</code></p>
<div class="note">
<div class="title">
<p>Note</p>
</div>
<p>This flag exists for backwards compatibility.
It is now possible to set debugging flags individually with
<span class="title-ref"><code>-fclash-debug-invariants</code></span>,
<span class="title-ref"><code>-fclash-debug-info</code></span> and
<span class="title-ref"><code>-fclash-debug-count-transformations</code></span>.</p>
</div>
<p><code>-fclash-debug-invariants</code><br />
Check invariants while debugging and print warnings/errors which may be useful, such as alerting when unexpected changes occur or when a transformation introduces free variables / shadowing.</p>
<p><code>-fclash-debug-info</code><br />
Specify the information to show about individual transformations while debugging.
From least to most information, these are</p>
<ul>
<li><code>None</code> to show no information</li>
<li><code>FinalTerm</code> to show the final result of normalization</li>
<li><code>AppliedName</code> to show the names of applied transformations</li>
<li><code>AppliedTerm</code> to show the result of applied transformations</li>
<li><code>TryName</code> to show the names of attempted transformations, as well as the result of any transformations which are applied</li>
<li><code>TryTerm</code> to show the names and results of all transformations attempted whether they were applied or not</li>
</ul>
<p><strong>Default:</strong> <code>None</code></p>
<p><code>-fclash-debug-count-transformations</code><br />
Count the transformations that are applied and print a summary at the end of the normalization phase.</p>
<p><code>-fclash-debug-history[=FILENAME]</code><br />
Saves all applied rewrites into <code>FILENAME</code>, for later analysis with the clash-term tool.
When no filename is given it defaults to <code>history.dat</code>.</p>
<p><code>-fclash-debug-transformations</code><br />
List the transformations that are to be debugged.
This is given as a comma-separated list of transformations, e.g.</p>
<pre><code class="language-bash">clash -fclash-debug-transformations inlineNonRep,topLet,appProp
</code></pre>
<p><strong>Default:</strong> <code>[]</code></p>
<p><code>-fclash-debug-transformations-from=N</code><br />
Only print debug output from applied transformation <code>N</code> and onwards.</p>
<pre><code class="language-bash">clash -fclash-debug-transformations-from=21570
</code></pre>
<p><strong>Default:</strong> <code>0</code></p>
<p><code>-fclash-debug-transformations-limit=N</code><br />
Only print debug output for <code>N</code> applied transformations.</p>
<pre><code class="language-bash">clash -fclash-debug-transformations-limit=12
</code></pre>
<p><strong>Default:</strong> <code>MAX_INT</code></p>
<p><code>-fclash-hdldir</code><br />
Specify the directory that generated HDL is written into.
For example</p>
<pre><code class="language-bash">clash -fclash-hdldir build/hdl
</code></pre>
<p>will create a directory <code>build/hdl</code></p>
<p><strong>Default:</strong> Either <code>vhdl</code>, <code>verilog</code>, or <code>systemverilog</code> depending on the synthesis target.</p>
<p><code>-fclash-hdlsyn</code><br />
Specify the HDL synthesis tool which will be used.
Available options are <code>Vivado</code>, <code>Quartus</code> and <code>Other</code>, but some synonyms for these exist (<code>Xilinx</code> and <code>ISE</code> are synonyms for <code>Vivado</code>, <code>Altera</code> and <code>Intel</code> are synonyms for <code>Quartus</code>).</p>
<p><strong>Default:</strong> <code>Other</code></p>
<p><code>-fclash-no-cache</code><br />
Don't reuse previously generated output from Clash, instead generating HDL from a clean state.
While this leads to longer builds, it can be useful in development.</p>
<div class="warning">
<div class="title">
<p>Warning</p>
</div>
<p>Previously this flag was called <code>-fclash-nocache</code>, however this is now deprecated.</p>
</div>
<p><strong>Default:</strong> Cache generated HDL</p>
<p><code>-fclash-no-check-inaccessible-idirs</code><br />
Check that all include directories (containing primitives) exist when running Clash.
If any directory does not exist, an error is thrown.</p>
<p><strong>Default:</strong> Check directories</p>
<p><code>-fclash-clear</code><br />
Remove HDL directories before writing to them (if cache can't be used).
By default, Clash will only write to non-empty directories if it can prove all files in it are generated by a previous run.
This option applies to directories of the various top entities, i.e., the subdirectories made in the directory passed in with <code>-fclash-hdldir</code>.</p>
<p><strong>Default:</strong> Clean before build</p>
<p><code>-fclash-no-prim-warn</code><br />
Disable warnings for primitives that are annotated with <code>warnAlways</code>.
This means warnings from annotations like</p>
<pre><code class="language-haskell">{-# ANN f (warnAlways "This primitive is dangerous") #-}
</code></pre>
<p>will not be shown when compiling.</p>
<p><strong>Default:</strong> Show warnings</p>
<p><code>-fclash-spec-limit</code><br />
Change the number of times a function can undergo specialization.</p>
<p><strong>Default:</strong> 20</p>
<p><code>-fclash-inline-limit</code><br />
Change the number of times a function <code>f</code> can undergo inlining inside some other function <code>g</code>.
This prevents the size of <code>g</code> growing dramatically.</p>
<p><strong>Default:</strong> 20</p>
<p><code>-fclash-inline-function-limit</code><br />
Set the threshold for function size.
Below this threshold a function is always inlined (if it is not recursive).</p>
<p><strong>Default:</strong> 15</p>
<p><code>-fclash-inline-constant-limit</code><br />
Set the threshold for constant size.
Below this threshold constants are always inlined.
A value of 0 inlines all constants.</p>
<p><strong>Default:</strong> 0</p>
<p><code>-fclash-evaluator-fuel-limit</code><br />
Set the threshold for unfolding potentially non-terminating bindings in the evaluator.
A value of 0 only unfolds terminating bindings.</p>
<p><strong>Default:</strong> 20</p>
<p><code>-fclash-intwidth</code><br />
Set the bit width for the <code>Int/Word/Integer</code> types in the generated HDL.
Clash simulation is not affected, and neither are <code>BitPack</code> instances.
The only allowed values are 32 or 64.</p>
<p><strong>Default:</strong> Machine word size (<code>WORD_SIZE_IN_BITS</code>)</p>
<p><code>-fclash-error-extra</code><br />
Print additional information with compiler errors if it as available.
If there is extra information and this flag is not enabled, a message will be printed suggesting this flag.</p>
<p><strong>Default:</strong> False</p>
<p><code>-fclash-float-support</code><br />
Enable support for floating point numbers.
If this is disabled, Clash will not attempt to convert Float and Double values for hardware.</p>
<p><strong>Default:</strong> False</p>
<p><code>-fclash-component-prefix</code><br />
Prefix the names of generated HDl components with a string.
For example a component <code>foo</code> would be called <code>xcorp_foo</code> if run with</p>
<pre><code class="language-bash">clash -fclash-component-prefix "xcorp"
</code></pre>
<p><strong>Default:</strong> ""</p>
<p><code>-fclash-old-inline-strategy</code><br />
The new inlining strategy for Clash inlines all functions which are not marked with <code>NOINLINE</code> or a synthesize attribute.
The old inlining strategy differed, attempting only to inline functions which were deemed "cheap".
The old inlining strategy may be quicker in practice for some circuits.</p>
<p><strong>Default:</strong> False</p>
<p><code>-fclash-no-escaped-identifiers</code><br />
Disable extended identifiers, as used in some HDLs like VHDL to allow more flexibility with names.
Clash will only generate basic identifiers if this is used.</p>
<p><strong>Default:</strong> Escaped identifiers are allowed</p>
<p><code>-fclash-lower-case-basic-identifiers</code><br />
Clash will only generate lower case basic identifiers if this is used.
This affects places where the various HDLs only allow basic identifiers to be used, most notably module and file names.</p>
<p><strong>Default:</strong> Disabled</p>
<p><code>-fclash-compile-ultra</code><br />
Aggressively run the normalizer, potentially gaining much better runtime performance at the expense of compile time.</p>
<p><strong>Default:</strong> False</p>
<p><code>-fclash-force-undefined{,0,1}</code><br />
Set the value to use when an undefined value is inserted into generated HDL.
This flag can be suffixed with either 0 or 1 to force use of that bit, or left without a suffix to use a HDL-specific default (e.g. <code>x</code> in Verilog).</p>
<p><strong>Default:</strong> Disabled</p>
<p><code>-fclash-aggressive-x-optimization</code><br />
Remove all undefined branches from case expressions, replacing them with another defined value in the expression.
If only one branch is defined, the case expression is elided completely.
If no branches are defined the entire expression is replaced with a call to <code>errorX</code>.</p>
<p><strong>Implies:</strong> <code>-fclash-aggressive-x-optimization-blackboxes</code></p>
<p><strong>Default:</strong> False</p>
<p><code>-fclash-aggressive-x-optimization-blackboxes</code><br />
Allow blackboxes to detect undefined values and change their behavior accordingly.
For example, if <code>register</code> is used in combination with an undefined reset value, it will leave out the reset logic entirely.
This flag is enabled when using <code>-fclash-aggressive-x-optimization</code>.</p>
<p><strong>Default:</strong> False</p>
<p><code>-fclash-edalize</code><br />
Generate metadata for use with <a href="https://github.com/olofk/edalize">Edalize</a>.
This generates edam.py files in all top entities with the configuration for building that entity.
Users still need to edit this file to specify the EDA tool to use, and if necessary the device to target (for Quartus, Vivado etc.).</p>
<p><strong>Default:</strong> False</p>
<p><code>-main-is</code><br />
When using one of <code>--vhdl</code>, <code>--verilog</code>, or <code>--systemverilog</code>, this flag refers to the synthesis target.
For example, running Clash with <code>clash My.Module -main-is top --vhdl</code> would synthesize <code>My.Module.top</code>.</p>
<p><code>-fclash-timescale-precision</code><br />
Sets the second part of Verilog's <code>timescale 100fs/100fs</code>.
E.g., setting this flag to <code>1fs</code> would make Clash generate Verilog files with <code>timescale 100fs/1fs</code> as their header.</p>
<p><strong>Default:</strong> <code>100fs</code></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../developing-hardware/prelude.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../hacking-on-clash/index.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../developing-hardware/prelude.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../hacking-on-clash/index.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
